/*@license
 * CHECKFORM 5 - novembre 2013
 * Massimo Cassandro
 */
!function($,e,t,i){function r(e,t){this.element=e,this.options=$.extend({},n,t),this._defaults=n,this._name=a,this.init()}var a="cf",n={disable_submit:!0,submit_button:null,disabled_submit_label:"Operazione in corso... Attendere",container:".form-group",error_class:"has-error",error_mes_template:'<div class="alert alert-danger alert-dismissable cf_error_mes"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>@@error_mes@@</div>',error_alert:!0,error_alert_mes:"Sono stati rilevati degli errori",extra_check_wrapper_class:"cf_extra_check_wrapper",extra_check:null,pre_check:null,post_check:null,disable_cf_on_cbox_id:"cancellato",no_label:!1},s=/^[\w\._=-]+@[\w\.-]+\.[a-zA-Z]{2,6}$/,o={generico:"Il valore inserito non corrisponde ai requisiti richiesti",required:"Questo valore è obbligatorio",email:"L'indirizzo email inserito non è valido",email_multiple:"Uno o più indirizzi email non sono corretti",number:"Il valore inserito non è un numero",date:"Il valore inserito non è una data corretta (la data va inserita nella forma gg/mm/aaaa)",time:"Il valore inserito non è corretto (gli orari vanno inseriti nella forma hh:mm)",datetime:"Il valore inserito non è corretto (date e ore vanno inserite nella forma gg/mm/aaaa hh:mm)",url:"Il valore inserito non è un indirizzo web corretto",tel:"Il valore inserito non è un numero di telefono fisso valido",cell:"Il valore inserito non è un numero di cellulare valido",min:"Il valore inserito è più piccolo del minimo consentito",max:"Il valore inserito è più grande del massimo consentito",minlength:"È necessario inserire almeno @@minlength@@ caratteri",iban:"Il codice IBAN inserito non è corretto",codice_fiscale:"Il valore inserito non è corretto",partita_iva:"Il valore inserito non è corretto",checkbox_group:"È necessario selezionare almeno un'opzione"};r.prototype={init:function(){"FORM"!==this.element.tagName&&(this.options.disable_submit=!1),$(this.element).submit(this,function(e){return e.data.checkform()})},checkform:function(){var t=this,i=this.element,r=this.options,a=!1;if($(i).find("."+r.error_class).each(function(){$(this).removeClass(r.error_class)}),$(i).find(".cf_error_mes").remove(),$(i).removeData("cf_valid"),null===r.submit_button&&$(i).find('[type="submit"]').length&&(r.submit_button=$(i).find('[type="submit"]').eq(0)),""!==r.disable_cf_on_cbox_id&&$("#"+r.disable_cf_on_cbox_id).length&&$("#"+r.disable_cf_on_cbox_id).is(":checkbox")&&$("#"+r.disable_cf_on_cbox_id).prop("checked"))return $(i).data("cf_valid",!0),!0;if(null!==r.pre_check&&r.pre_check(),$(i).find("input, select, textarea").not(":disabled").each(function(){var e=[],i=$(this),n=$.trim(i.val()),l=null,c=null,u=i.data();if("INPUT"===i[0].tagName&&(c=i.attr("type").toLowerCase()),"undefined"!==u.cf_extra&&(l=$.trim(u.cf_extra)),i.prop("required")&&(i.is(":checkbox")&&!i.is(":checked")||""===n)&&e.push(o.required),""!==n){if("email"===c)i.is("[multiple]")?$.each(n.split(","),function(t,i){return s.test($.trim(i))?void 0:(e.push(o.email_multiple),!1)}):s.test(n)||e.push(o.email);else if("date"===c||"datetime"===c||"datetime-local"===c)t.cf_parseDate(n).isValid()||e.push("date"===c?o.date:o.datetime);else if("time"===c)moment(n,"hh:mm").isValid()||e.push(o.time);else if("number"===c||"range"===c)isNaN(n)||!/^[+\-]?\d+(\.\d+)?$/.test(n)?e.push(o.number):n=Number(n);else if("tel"===c)"tel_it"===l?(/[^0-9\+]/g.test(n)||!/^[0|1|8|\+]/.test(n))&&e.push(o.tel):"cell_it"===l?(/[^0-9\+]/g.test(n)||!/^[3|\+]/.test(n))&&e.push(o.cell):/[^0-9\+]/g.test(n)&&e.push(o.tel);else if("url"===c){var m=/^https?:\/\/(([a-z]([a-z0-9\-]*)\.)+([a-z]{2,6})|(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}[0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(:[0-9]{1,5})?(\/[a-z0-9_\-\.~]+)*\/?(\?([a-z0-9+_\-\.%=&amp;])*)?(#[a-z][a-z0-9_]*)?$/i;m.test(n)||e.push(o.url)}if(!e.length){if("undefined"!==u.cf_minlength&&n.length<u.cf_minlength&&e.push(o.minlength.replace(/@@minlength@@/,u.cf_minlength)),i.attr("pattern")){var _=new RegExp(i.attr("pattern"));_.test(n)||e.push(o.generico)}if(i.attr("min")){var d=$.trim(i.attr("min"));("number"===c||"range"===c)&&(d=Number(d)),"date"===c||"datetime"===c||"datetime-local"===c?t.cf_parseDate(n)<t.cf_parseDate(d)&&e.push(o.min):d>n&&e.push(o.min)}if(i.attr("max")){var h=$.trim(i.attr("max"));("number"===c||"range"===c)&&(h=Number(h)),"date"===c||"datetime"===c||"datetime-local"===c?t.cf_parseDate(n)>t.cf_parseDate(h)&&e.push(o.max):n>h&&e.push(o.max)}}var b,p;if("text"===c&&"cf_it"===l){var f,g,v,x,A,k,I=n.toUpperCase();for(b=!0,16!==I.length&&(b=!1),f="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",p=0;16>p;p++)-1===f.indexOf(I.charAt(p))&&(b=!1);for(v="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",x="ABCDEFGHIJABCDEFGHIJKLMNOPQRSTUVWXYZ",A="ABCDEFGHIJKLMNOPQRSTUVWXYZ",k="BAKPLCQDREVOSFTGUHMINJWZYX",g=0,p=1;13>=p;p+=2)g+=A.indexOf(x.charAt(v.indexOf(I.charAt(p))));for(p=0;14>=p;p+=2)g+=k.indexOf(x.charAt(v.indexOf(I.charAt(p))));g%26!==I.charCodeAt(15)-"A".charCodeAt(0)&&(b=!1),b||t.cf_partita_iva(I)||e.push(o.codice_fiscale)}else if("text"===c&&"vat_it"===l)t.cf_partita_iva(n)||e.push(o.partita_iva);else if("text"===c&&"iban_it"===l){var C=n.toUpperCase(),N=C.substring(0,2);if(b=!0,"IT"===N&&27===C.length){var z=C.substring(2,4),D=C.substring(4,5),O=C.substring(5,10),Y=C.substring(10,15),w=C.substring(15);if(!z||isNaN(z)?b=!1:!D||/[^A-Z]/.test(D)?b=!1:!O||isNaN(O)?b=!1:!Y||isNaN(Y)?b=!1:(!w||/[^A-Z0-9]/.test(w)||w.length>12)&&(b=!1),b){var M=C.substring(4)+C.substring(0,4),U="",S;for(p=0;p<M.length;p++)S=M.charCodeAt(p),S>=65?S-=55:S=M.charAt(p),U+=String(S);var y="";for(p=0;p<U.length;p+=8)y=Number(String(y)+String(U.substr(p,8)))%97;1!==y&&(b=!1)}}else b=!1;b||e.push(o.iban)}}e.length&&(i.closest(r.container).addClass(r.error_class).append(r.error_mes_template.replace(/@@error_mes@@/,e.join("<br>"))),a=!0)}),$(".cf_checkbox_group").each(function(){var e=$(this);0===e.find("input:checked").length&&e.addClass(r.error_class).append(r.error_mes_template.replace(/@@error_mes@@/,o.checkbox_group))}),null!==r.extra_check&&r.extra_check().length){var n='<div class="'+r.extra_check_wrapper_class+'">'+r.error_mes_template.replace(/@@error_mes@@/,r.extra_check().join("<br>"))+"</div>";$(i).find(r.submit_button).length?r.submit_button.before(n):$(i).prepend(n),a=!0}if(a)return $(i).data("cf_valid",!1),$("."+r.error_class).eq(0).focus(),null!==r.post_check&&r.post_check(),r.error_alert&&e.alert(r.error_alert_mes),!1;if(r.disable_submit&&r.submit_button&&r.disabled_submit_label&&$(i).find(r.submit_button).length>0){var l;$('input:hidden[name="'+r.submit_button.attr("name")+'"]').length||r.submit_button.after('<input type="hidden" name="'+r.submit_button.attr("name")+'" value="'+r.submit_button.val()+'">'),r.submit_button.attr("disabled","disabled"),r.submit_button.is("input")?(l=r.submit_button.val(),r.submit_button.val(r.disabled_submit_label)):(l=r.submit_button.html(),r.submit_button.html(r.disabled_submit_label)),r.submit_button.data("original_label",l)}return $(i).data("cf_valid",!0),!0},cf_parseDate:function(e){var t;return t=/\//.test(e)?"DD/MM/YYYY":"YYYY-MM-DD",/:/.test(e)&&(t+=" hh:mm"),moment(e,t)},cf_partita_iva:function(e){if(e=e.toUpperCase(),"IT"===e.substring(0,2)&&(e=e.substring(2)),11!==e.length)return!1;for(var t="0123456789",i=0;11>i;i++)if(-1===t.indexOf(e.charAt(i)))return!1;var r,a=0;for(i=0;9>=i;i+=2)a+=e.charCodeAt(i)-"0".charCodeAt(0);for(i=1;9>=i;i+=2)r=2*(e.charCodeAt(i)-"0".charCodeAt(0)),r>9&&(r-=9),a+=r;return(10-a%10)%10!==e.charCodeAt(10)-"0".charCodeAt(0)?!1:!0}},$.fn[a]=function(e){return this.each(function(){$.data(this,"plugin_"+a)?$.isFunction(r.prototype[e])&&$.data(this,"plugin_"+a)[e]():$.data(this,"plugin_"+a,new r(this,e))})}}(jQuery,window,document);
//# sourceMappingURL=./checkform-min.js.map